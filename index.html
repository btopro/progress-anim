<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta name="Description" content="Put your description here." />
    <base href="/" />

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
        background-color: white;
      }
    </style>
    <title>progress-anim</title>
  </head>

  <body>
    <!-- <progress-anim></progress-anim> -->
    <apps-roster></apps-roster>

    <script type="module">
      import "./src/progress-anim.js";
      import "./src/apps-roster.js";
    </script>
    <script>
      // function ProgressAnim(timeLength) {
      //   this.timeLength = timeLength || 5.79; //constructor to control time for bar to fill

      //   function startTimer(duration, barWidth) {
      //     this.barWidth = barWidth || 0.075; //constructor to control bar width based on time
      //     var totalSeconds = duration;
      //     var documentWidth =
      //       document.documentElement.clientWidth * this.barWidth;
      //     var start = Date.now();
      //     var intervalSetted = null;
      //     var progressBar = document
      //       .querySelector("progress-anim")
      //       .shadowRoot.querySelector(".progress");

      //     console.log(progressBar);
      //     var timer = document
      //       .querySelector("progress-anim")
      //       .shadowRoot.querySelector(".timer");
      //     console.log(timer);

      //     function updateTimer() {
      //       var diff = (Date.now() - start) / 1000;
      //       if (diff >= duration) {
      //         diff = duration;
      //         clearInterval(intervalSetted);
      //       }

      //       var seconds = Math.floor(diff % 60);
      //       var tenths = Math.floor((diff % 1) * 100);
      //       var progressBarWidth = (diff / duration) * documentWidth;
      //       progressBar.style.width = progressBarWidth + "px";
      //       timer.innerHTML =
      //         seconds + "." + (tenths < 10 ? "0" + tenths : tenths) + "s";
      //     }

      //     updateTimer();
      //     intervalSetted = setInterval(updateTimer, 10);
      //   }

      //   let callback = (entries, observer) => {
      //     entries.forEach((entry) => {
      //       startTimer(this.timeLength);
      //     });
      //   };

      //   let options = {
      //     root: document.querySelector("#scrollArea"),
      //     rootMargin: "0px",
      //     threshold: 1.0,
      //   };

      //   let observer = new IntersectionObserver(callback, options);

      //   let target = document.querySelector("progress-anim");
      //   observer.observe(target);
      // }

      // let callback = (entries, observer) => {
      //   entries.forEach((entry) => {
      //     entry.target.progressAnim();
      //     console.log(entry.target);
      //   });
      // };

      // let options = {
      //   root: document.querySelector("#scrollArea"),
      //   rootMargin: "0px",
      //   threshold: 1.0,
      // };

      // let observer = new IntersectionObserver(callback, options);

      // let target = document.querySelector("progress-anim");
      // observer.observe(target);

      // new ProgressAnim(this.timeLength); // example of creating a new instance with timeLength of 5 seconds
    </script>
  </body>
</html>
